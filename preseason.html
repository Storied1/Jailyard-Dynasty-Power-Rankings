<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Jailyard 2025 Power Rankings</title>
<meta name="view-transition" content="same-origin" />
<meta name="description" content="2025 preseason dynasty power rankings for The Jailyard. How we saw the league before the season kicked off. Sortable tables, data charts, rosters and analysis." />
<meta property="og:title" content="The Jailyard 2025 Power Rankings" />
<meta property="og:description" content="2025 preseason power rankings for 12 teams. Charts, rosters and bold predictions before the season." />
<meta property="og:type" content="website" />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèà</text></svg>">
<style>
:root{
  --bg:#0b0d10;
  --fg:#e8ecf0;
  --muted:#7a8194;
  --accent:#8b5cf6;
  --accent2:#ec4899;
  --card:rgba(255,255,255,0.03);
  --glass:rgba(255,255,255,0.06);
  --border:rgba(255,255,255,0.07);
  --warning:#ffb703;
  --good:#00d084;
  --bad:#ff4d4f;
  --font-main: system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  --h1:clamp(2.4rem,5vw,4.2rem);
  --h2:clamp(1.8rem,3.5vw,2.8rem);
  --maxw:1220px;
  color-scheme:dark;
}
html,body{
  scroll-behavior:smooth;
  background:var(--bg);
  color:var(--fg);
  font-family:var(--font-main);
  overscroll-behavior-y:none;
}
*{box-sizing:border-box;}
a{color:var(--accent2);text-decoration:none;}
a:hover{text-decoration:underline;}
header.hero{position:relative;min-height:100vh;display:grid;place-items:center;overflow:hidden;perspective:1000px;}
.hero__bg{position:absolute;inset:-20vh -10vw -20vh -10vw;background:
    radial-gradient(circle at 15% 20%,rgba(255,77,141,0.06) 0%,transparent 60%),
    radial-gradient(circle at 80% 40%,rgba(108,71,255,0.08) 0%,transparent 65%),
    radial-gradient(circle at 40% 80%,rgba(0,208,132,0.06) 0%,transparent 60%),
    #0b0d10;transform:translateZ(-200px) scale(1.3);}
.hero__grid{position:absolute;inset:0;background-image:
    linear-gradient(rgba(255,255,255,0.03) 1px,transparent 1px),
    linear-gradient(90deg,rgba(255,255,255,0.03) 1px,transparent 1px);
    background-size:60px 60px;transform:translateZ(-100px) scale(1.1);}
.hero__content{position:relative;z-index:5;text-align:center;padding:2rem;max-width:900px;}
.hero__title{font-size:var(--h1);line-height:1.05;letter-spacing:-0.02em;background:linear-gradient(92deg,#fff,#a8a8ff 40%,#ff9acd 80%);-webkit-background-clip:text;color:transparent;}
.hero__subtitle{margin:1rem auto 2.5rem;color:var(--muted);max-width:720px;}
.hero__cta{display:inline-flex;align-items:center;column-gap:.6rem;background:var(--accent);color:white;padding:.9rem 1.3rem;border-radius:999px;font-weight:600;transition:transform .15s ease;}
.hero__cta:hover{transform:translateY(-2px);}
#nav{position:sticky;top:0;backdrop-filter:blur(8px);background:rgba(11,13,16,0.65);border-bottom:1px solid var(--border);z-index:999;}
#nav .inner{max-width:var(--maxw);margin:0 auto;padding:.6rem 1rem;display:flex;align-items:center;justify-content:space-between;}
#nav .brand{font-weight:700;letter-spacing:.03em;}
#nav nav{display:flex;gap:.9rem;flex-wrap:wrap;}
#nav a{color:var(--muted);font-size:.95rem;padding:.3rem .55rem;border-radius:6px;}
#nav a.active{color:var(--fg);background:rgba(255,255,255,0.05);}
.container{max-width:var(--maxw);width:100%;margin:0 auto;padding:4rem 1rem;}
.section-title{font-size:var(--h2);margin-bottom:.6rem;}
.section-sub{color:var(--muted);max-width:760px;margin-bottom:3rem;}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.2rem;}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:1.2rem 1.4rem;box-shadow:0 0 0 rgba(0,0,0,0);transition:box-shadow .25s ease,transform .2s ease;position:relative;overflow:hidden;}
.card:hover{box-shadow:0 12px 34px rgba(0,0,0,.14);transform:translateY(-2px);}
.card.glass{background:var(--glass);backdrop-filter:blur(12px);}
.badge{display:inline-flex;align-items:center;gap:.35rem;padding:.15rem .5rem;border-radius:999px;font-size:.8rem;line-height:1.7;border:1px solid rgba(255,255,255,0.08);background:rgba(255,255,255,0.04);}
.badge.good{color:var(--good);border-color:rgba(0,208,132,.25);} .badge.bad{color:var(--bad);border-color:rgba(255,77,79,.25);} .badge.warn{color:var(--warning);border-color:rgba(255,183,3,.25);}  
.rank-line{margin-top:.8rem;width:100%;height:8px;background:rgba(255,255,255,0.06);border-radius:999px;position:relative;overflow:hidden;}
.rank-line .bar{position:absolute;inset:0;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .8s cubic-bezier(.2,.8,.2,1);}  
.rank-pill{position:absolute;top:.9rem;right:1rem;font-size:.85rem;padding:.12rem .45rem;border-radius:999px;border:1px solid rgba(255,255,255,0.08);background:rgba(255,255,255,0.05);color:var(--muted);}  
.team-header{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;}  
.team-meta{display:flex;flex-wrap:wrap;gap:.4rem .6rem;margin:.6rem 0 1rem;}  
.team-table{width:100%;border-collapse:collapse;margin-top:1rem;font-size:.9rem;}  
.team-table th,.team-table td{padding:.35rem .5rem;border-bottom:1px solid rgba(255,255,255,0.05);}  
.team-table th{text-align:left;color:var(--muted);font-weight:500;}  
ul.players{list-style:none;margin:.4rem 0 0;padding:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.25rem .6rem;}  
ul.players li{font-size:.88rem;color:#cfd4db;}  
ul.players li span.val{color:var(--muted);font-size:.8rem;}  
details summary{cursor:pointer;user-select:none;font-weight:600;margin:.9rem 0;}  
details[open] summary{color:var(--accent2);}  
.section-awards .award{display:grid;grid-template-columns:90px 1fr;gap:1rem;padding:1rem;border:1px dashed rgba(255,255,255,0.08);border-radius:12px;margin-bottom:1rem;}  
.award .tag{display:inline-block;font-weight:700;font-size:2.2rem;text-align:center;padding:.8rem .2rem;background:linear-gradient(120deg,var(--accent),var(--accent2));-webkit-background-clip:text;color:transparent;}  
.toggle-dark{cursor:pointer;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);border-radius:999px;padding:.35rem .7rem;font-size:.9rem;}  
.light{--bg:#f7f9fc;--fg:#111418;--muted:#5f6672;--card:rgba(255,255,255,0.9);--glass:rgba(255,255,255,0.85);--border:rgba(0,0,0,0.06);color-scheme:light;}
@view-transition{navigation:auto;}::view-transition-old(root){animation:vt-out .2s ease-in;}::view-transition-new(root){animation:vt-in .3s ease-out;}@keyframes vt-out{to{opacity:0;filter:blur(2px);}}@keyframes vt-in{from{opacity:0;filter:blur(2px);}}
.fade-up{opacity:0;transform:translateY(20px);transition:all .6s cubic-bezier(.17,.67,.24,1);}  
.fade-up.visible{opacity:1;transform:none;}  
.parallax{transform:translateY(calc(var(--scrollY,0)*var(--speed,0.3)));will-change:transform;}  
footer{margin-top:6rem;padding:3rem 1rem;text-align:center;color:var(--muted);}  
.avatar{width:46px;height:46px;border-radius:50%;display:inline-grid;place-items:center;font-weight:700;color:rgba(255,255,255,0.95);flex:0 0 46px;}  
.roast{color:var(--muted);font-style:italic;margin-top:.6rem;}  
.table-wrap{overflow-x:auto;border:1px solid var(--border);border-radius:12px;margin-top:1.2rem;}  
.master-table{width:100%;border-collapse:collapse;font-size:.92rem;min-width:900px;}  
.master-table th,.master-table td{padding:.55rem .7rem;border-bottom:1px solid rgba(255,255,255,0.05);}  
.master-table th{text-align:left;color:var(--muted);font-weight:600;cursor:pointer;position:sticky;top:0;background:rgba(0,0,0,0.05);}  
.master-table th.sort-asc::after{content:' ‚ñ≤';color:var(--accent2);}  
.master-table th.sort-desc::after{content:' ‚ñº';color:var(--accent2);}  
/* --- Hamburger menu (mobile) --- */
.hamburger{display:none;background:none;border:none;cursor:pointer;padding:.3rem;color:var(--fg);}
.hamburger svg{width:24px;height:24px;stroke:currentColor;fill:none;stroke-width:2;}
@media(max-width:600px){
  #nav nav{display:none;position:absolute;top:100%;left:0;right:0;background:rgba(11,13,16,0.95);backdrop-filter:blur(12px);flex-direction:column;padding:1rem;border-bottom:1px solid var(--border);gap:.4rem;}
  #nav nav.open{display:flex;}
  .hamburger{display:block;}
}

/* --- Search bar --- */
.search-wrap{position:relative;max-width:460px;margin-bottom:2rem;}
.search-wrap input{width:100%;padding:.7rem 1rem .7rem 2.6rem;border-radius:12px;border:1px solid var(--border);background:var(--card);color:var(--fg);font-size:.95rem;font-family:inherit;outline:none;transition:border-color .2s,box-shadow .2s;}
.search-wrap input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(108,71,255,0.15);}
.search-wrap input::placeholder{color:var(--muted);}
.search-wrap .search-icon{position:absolute;left:.8rem;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:var(--muted);fill:none;stroke-width:2;}
.no-results{text-align:center;color:var(--muted);padding:2rem;font-size:1rem;display:none;}

/* --- Tier dividers --- */
.tier-divider{display:flex;align-items:center;gap:1rem;margin:2.5rem 0 1.5rem;opacity:0;transform:translateY(10px);transition:all .5s ease;}
.tier-divider.visible{opacity:1;transform:none;}
.tier-divider .tier-label{white-space:nowrap;font-weight:700;font-size:.85rem;letter-spacing:.06em;text-transform:uppercase;padding:.3rem .8rem;border-radius:999px;}
.tier-divider .tier-label.contender{color:var(--good);background:rgba(0,208,132,0.1);border:1px solid rgba(0,208,132,0.2);}
.tier-divider .tier-label.frisky{color:var(--accent);background:rgba(108,71,255,0.1);border:1px solid rgba(108,71,255,0.2);}
.tier-divider .tier-label.process{color:var(--warning);background:rgba(255,183,3,0.1);border:1px solid rgba(255,183,3,0.2);}
.tier-divider .tier-label.fraud{color:var(--bad);background:rgba(255,77,79,0.1);border:1px solid rgba(255,77,79,0.2);}
.tier-divider .tier-line{flex:1;height:1px;background:var(--border);}

/* --- Compare drawer --- */
.compare-bar{position:fixed;bottom:-80px;left:50%;transform:translateX(-50%);z-index:998;display:flex;align-items:center;gap:1rem;padding:.7rem 1.2rem;border-radius:16px;background:rgba(11,13,16,0.92);backdrop-filter:blur(12px);border:1px solid var(--border);box-shadow:0 8px 30px rgba(0,0,0,0.4);transition:bottom .35s cubic-bezier(.17,.67,.24,1);max-width:95vw;}
.compare-bar.show{bottom:1.5rem;}
.compare-bar .compare-teams{display:flex;gap:.5rem;align-items:center;font-size:.9rem;}
.compare-bar .compare-teams .vs{color:var(--accent2);font-weight:700;}
.compare-bar .cmp-name{padding:.2rem .6rem;border-radius:8px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);}
.compare-bar button{cursor:pointer;font-family:inherit;font-weight:600;border:none;border-radius:999px;padding:.45rem 1rem;font-size:.85rem;transition:background .2s,transform .15s;}
.compare-bar .btn-go{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;}
.compare-bar .btn-go:hover{transform:scale(1.04);}
.compare-bar .btn-clear{background:rgba(255,255,255,0.06);color:var(--muted);border:1px solid var(--border);}
.card .compare-check{position:absolute;top:.9rem;left:1rem;width:20px;height:20px;border-radius:6px;border:1px solid rgba(255,255,255,0.15);background:rgba(255,255,255,0.04);cursor:pointer;display:grid;place-items:center;transition:background .2s,border-color .2s;z-index:2;}
.card .compare-check:hover{border-color:var(--accent);}
.card .compare-check.selected{background:var(--accent);border-color:var(--accent);}
.card .compare-check svg{width:14px;height:14px;stroke:#fff;fill:none;stroke-width:2.5;opacity:0;transition:opacity .15s;}
.card .compare-check.selected svg{opacity:1;}

/* --- Compare modal --- */
.compare-modal-overlay{position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);display:none;place-items:center;opacity:0;transition:opacity .25s;}
.compare-modal-overlay.open{display:grid;opacity:1;}
.compare-modal{background:var(--bg);border:1px solid var(--border);border-radius:20px;max-width:800px;width:95vw;max-height:85vh;overflow-y:auto;padding:2rem;position:relative;}
.compare-modal .close-btn{position:absolute;top:1rem;right:1rem;background:rgba(255,255,255,0.06);border:1px solid var(--border);border-radius:50%;width:32px;height:32px;display:grid;place-items:center;cursor:pointer;color:var(--muted);transition:color .2s;}
.compare-modal .close-btn:hover{color:var(--fg);}
.compare-modal h2{font-size:1.4rem;margin-bottom:1.5rem;text-align:center;}
.compare-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;}
.compare-col{text-align:center;}
.compare-col h3{margin:.5rem 0;font-size:1.1rem;}
.compare-col .owner-line{color:var(--muted);font-size:.85rem;margin-bottom:1rem;}
.compare-row{display:grid;grid-template-columns:1fr auto 1fr;gap:.6rem;align-items:center;padding:.45rem 0;border-bottom:1px solid rgba(255,255,255,0.04);}
.compare-row .label{color:var(--muted);font-size:.82rem;text-align:center;white-space:nowrap;}
.compare-row .val{font-weight:600;font-size:.95rem;}
.compare-row .val.left{text-align:right;}
.compare-row .val.right{text-align:left;}
.compare-row .val.winner{color:var(--good);}
@media(max-width:600px){.compare-grid{grid-template-columns:1fr;}.compare-row{grid-template-columns:1fr;gap:.2rem;text-align:center;}.compare-row .val.left,.compare-row .val.right{text-align:center;}}

/* --- Back-to-top button --- */
.back-to-top{position:fixed;bottom:1.5rem;right:1.5rem;z-index:997;width:44px;height:44px;border-radius:50%;background:rgba(11,13,16,0.85);backdrop-filter:blur(8px);border:1px solid var(--border);display:grid;place-items:center;cursor:pointer;opacity:0;transform:translateY(10px);transition:opacity .3s,transform .3s,background .2s;pointer-events:none;}
.back-to-top.show{opacity:1;transform:none;pointer-events:auto;}
.back-to-top:hover{background:var(--accent);}
.back-to-top svg{width:20px;height:20px;stroke:var(--fg);fill:none;stroke-width:2;}

/* --- Chart tooltip --- */
.chart-tooltip{position:absolute;z-index:50;padding:.4rem .7rem;border-radius:8px;background:rgba(11,13,16,0.92);border:1px solid var(--border);font-size:.8rem;pointer-events:none;white-space:nowrap;opacity:0;transition:opacity .15s;backdrop-filter:blur(6px);}
.chart-tooltip.show{opacity:1;}

/* --- Row hover in master table --- */
.master-table tbody tr{cursor:pointer;transition:background .15s;}
.master-table tbody tr:hover{background:rgba(108,71,255,0.06);}
.scroll-progress{position:fixed;top:0;left:0;height:3px;z-index:200;background:linear-gradient(90deg,var(--accent),var(--accent2));width:0%;transition:width .1s linear;pointer-events:none;}
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
</style>
</head>
<body>
<div class="scroll-progress" id="scrollProgress"></div>

<header class="hero" id="top">
  <div class="hero__bg parallax" style="--speed:.15"></div>
  <div class="hero__grid parallax" style="--speed:.05"></div>
  <div class="hero__content">
    <h1 class="hero__title">Jailyard Dynasty Power Rankings ‚Äì¬†2025</h1>
    <p class="hero__subtitle">Numbers, nuance and a little history: how we saw the league heading into the 2025 season.</p>
    <a href="#rankings" class="hero__cta">Jump to rankings ‚Üì</a>
  </div>
</header>

<div id="nav">
  <div class="inner">
    <div class="brand"><a href="index.html" style="color:var(--fg);text-decoration:none;" data-league-name>The Jailyard</a></div>
    <nav id="toc">
      <a href="history.html">League Bible</a>
      <a href="season.html">Season Hub</a>
      <a href="power-rankings.html">Power Rankings</a>
      <a href="draft.html">Draft</a>
      <a href="trades.html">Trades</a>
      <a href="week1.html">Week 1</a>
    </nav>
    <div style="display:flex;align-items:center;gap:.5rem;">
      <button class="toggle-dark" id="toggleDark">Toggle theme</button>
      <button class="hamburger" id="hamburger" aria-label="Menu" aria-expanded="false">
        <svg viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
  </div>
</div>

<main>
  <section class="container" id="methodology">
    <h2 class="section-title">Methodology</h2>
    <p class="section-sub">Trade values from five sources, contender tiers from five more, blended with your rosters and draft capital. Average rank, standard deviation and median value guided our ordering. Playoff history adds colour.</p>
    <div class="grid fade-up">
      <div class="card glass">
        <h3>Signals we reward</h3>
        <ul>
          <li>Multiple startable QBs</li>
          <li>Backfields with youth and depth</li>
          <li>Wide receivers who earn targets</li>
          <li>A true TE edge</li>
          <li>Picks you actually use</li>
        </ul>
      </div>
      <div class="card glass">
        <h3>Signals we punish</h3>
        <ul>
          <li>QB roulette</li>
          <li>RB rooms built on nostalgia</li>
          <li>WR groups that need time machines</li>
          <li>TEs that make you shrug</li>
          <li>Picks hoarded like canned beans with no plan to open them</li>
        </ul>
      </div>
    </div>
  </section>

  <section class="container" id="table">
    <h2 class="section-title">Sortable overview</h2>
    <p class="section-sub">Tap any header to sort. Rows link to detailed cards. Draft rank is a reminder of how much ammo you hold.</p>
    <div class="table-wrap fade-up">
      <table class="master-table" id="masterTable"></table>
    </div>
  </section>

  <section class="container" id="charts">
    <h2 class="section-title">Quick visuals</h2>
    <p class="section-sub">See how average rank correlates with roster value and how each team‚Äôs starter value breaks down by position.</p>
    <div class="grid fade-up">
      <div class="card">
        <h3>Rank vs roster value</h3>
        <canvas id="rankValueChart" height="260" role="img" aria-label="Scatter chart showing team rank versus roster value"></canvas>
      </div>
      <div class="card">
        <h3>Starter value by position</h3>
        <canvas id="stackedPosChart" height="260" role="img" aria-label="Stacked bar chart showing starter value by position"></canvas>
      </div>
    </div>
  </section>

  <!-- Extra insights section: projections and titles -->
  <section class="container" id="extras">
    <h2 class="section-title">More insights</h2>
    <p class="section-sub">Two visuals to settle arguments: how preseason point projections stacked up against schedule difficulty and who has been hoisting trophies.</p>
    <div class="grid fade-up">
      <div class="card">
        <h3>Projected points vs schedule</h3>
        <canvas id="ptsSchedChart" height="260" role="img" aria-label="Chart showing projected points versus schedule difficulty"></canvas>
      </div>
      <div class="card">
        <h3>Titles per franchise (2022‚Äì2024)</h3>
        <canvas id="titlesChart" height="260" role="img" aria-label="Bar chart showing titles per franchise from 2022 to 2024"></canvas>
      </div>
    </div>
  </section>

  <section class="container" id="rankings">
    <h2 class="section-title">Power rankings</h2>
    <p class="section-sub">Click a team to see its roster, ranks and picks. Tap the checkbox to compare two teams head-to-head.</p>
    <div class="search-wrap">
      <svg class="search-icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
      <input type="text" id="teamSearch" placeholder="Search teams, owners, tiers...">
    </div>
    <div id="teams"></div>
    <p class="no-results" id="noResults">No teams match your search.</p>
  </section>

  <section class="container section-awards" id="awards">
    <h2 class="section-title">Superlatives</h2>
    <p class="section-sub">Because trophies are for January and trash talk is for July.</p>
    <div id="awardsList"></div>
  </section>

  <section class="container" id="history">
    <h2 class="section-title">Playoff history</h2>
    <p class="section-sub">Recent champions and notable finishes.</p>
    <ul style="line-height:1.6">
      <li><strong>2024:</strong> Kittler on the Roof defeated Sleeping Giants in the final. MHJTIME took third place. Rasheeing the Scene finished fifth, and Noble FFT won the consolation bracket.</li>
      <li><strong>2023:</strong> General¬†Ken‚Äëobi beat Kittler on the Roof for the title. The Boonist Monks claimed third, Rasheeing the Scene took fifth, and MHJTIME ended up as the ‚ÄúKing‚Äù.</li>
      <li><strong>2022:</strong> The Legion of Bouz won the inaugural championship over Kittler on the Roof. Sleeping Giants took third while Father Time rounded out the top four.</li>
    </ul>
  </section>

</main>

<!-- Compare bar (fixed bottom) -->
<div class="compare-bar" id="compareBar">
  <div class="compare-teams">
    <span class="cmp-name" id="cmpName1">‚Äî</span>
    <span class="vs">vs</span>
    <span class="cmp-name" id="cmpName2">‚Äî</span>
  </div>
  <button class="btn-go" id="cmpGo">Compare</button>
  <button class="btn-clear" id="cmpClear">Clear</button>
</div>

<!-- Compare modal -->
<div class="compare-modal-overlay" id="compareOverlay">
  <div class="compare-modal">
    <button class="close-btn" id="compareClose"><svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" fill="none" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    <h2 id="compareTitle">Head-to-Head</h2>
    <div id="compareBody"></div>
  </div>
</div>

<!-- Back to top -->
<button class="back-to-top" id="backToTop" aria-label="Back to top">
  <svg viewBox="0 0 24 24"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
</button>

<footer>
  <div style="font-weight:700;font-size:1rem;color:var(--fg);margin-bottom:.4rem;">The Jailyard</div>
  <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:.8rem;margin-bottom:1rem;">
    <a href="index.html" style="color:var(--muted);font-size:.85rem;">Home</a>
    <a href="history.html" style="color:var(--muted);font-size:.85rem;">League Bible</a>
    <a href="season.html" style="color:var(--muted);font-size:.85rem;">Season Hub</a>
    <a href="preseason.html" style="color:var(--muted);font-size:.85rem;">Rankings</a>
    <a href="draft.html" style="color:var(--muted);font-size:.85rem;">Draft Recap</a>
    <a href="trades.html" style="color:var(--muted);font-size:.85rem;">Trades</a>
    <a href="week1.html" style="color:var(--muted);font-size:.85rem;">Week 1</a>
  </div>
  &copy; 2022&ndash;2026 The Jailyard Dynasty League. If you don't like your placement, the trade button is right there.
</footer>

<script src="config.js"></script>
<script>
// Updated league data reflecting trade/contender rankings and playoff history
const league = {
  season: '2025',
  teams: [
    {
      rank: 1,
      name: 'General Ken‚Äëobi',
      owner: 'bLaker24',
      initials: 'GK',
      tier: 'Contender',
      roast: 'We‚Äôre all just hoping you oversleep on waiver day.',
      overallValue: 619,
      starterValue: 977,
      avgAge: 24.5,
      needs: ['QB'],
      ranks: { qb: 11, rb: 1, wr: 1, te: 3, draft: 5, starter: 1 },
      draftValue: 40,
      draftPicks: ['2026 1st (18.5)','2026 2nd (3)','2026 3rd (0.1)','2026 3rd via bchodos (0.1)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Drake Maye',4.8,'starter'],['J.J. McCarthy',1.3],['Anthony Richardson',0.5],['Trevor Lawrence',0.3]],
      rb: [['Saquon Barkley',87.8,'starter'],['Chase Brown',59.5,'starter'],['Kenneth Walker',42.4,'starter'],['Kaleb Johnson',26.6],['Zach Charbonnet',8],['Jerome Ford',2.4],['Rachaad White',1.8],['Tahj Brooks',1],['Kendre Miller',0.5]],
      wr: [['CeeDee Lamb',83.4,'starter'],['Nico Collins',77.1,'starter'],['Drake London',62.6,'starter'],['Chris Olave',32.7],['DJ Moore',25.2],['Jameson Williams',15],['Jermaine Burton',0.1]],
      te: [['Sam LaPorta',40.3,'starter'],['Kyle Pitts',3.4],['Mason Taylor',1.3],['Cade Otton',0.8]],
      blurb: 'Four startable QBs, a three‚Äëheaded RB monster and a WR corps that could headline Coachella. You won it all in 2023 and made the semis in 2024; you‚Äôre the consensus favourite again.'
    },
    {
      rank: 2,
      name: 'Noble FFT',
      owner: 'kevobucks',
      initials: 'NF',
      tier: 'Frisky',
      roast: 'Bijan and Breece are gods, your tight ends are mortals.',
      overallValue: 351,
      starterValue: 903,
      avgAge: 24.6,
      needs: ['TE','QB','WR depth'],
      ranks: { qb: 9, rb: 4, wr: 8, te: 10, draft: 4, starter: 5 },
      draftValue: 46,
      draftPicks: ['2026 1st (18.5)','2026 2nd (3) x3','2026 3rd via KidBouzie (0.1)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Caleb Williams',3.8,'starter'],['Jordan Love',7.4],['Aaron Rodgers',0]],
      rb: [['Bijan Robinson',92.5,'starter'],['Breece Hall',56.4,'starter'],['Javonte Williams',6.5]],
      wr: [['A.J. Brown',48.3,'starter'],['Tee Higgins',47,'starter'],['Jayden Reed',11.3,'starter'],['Matthew Golden',9.9],['Ricky Pearsall',3.1]],
      te: [['Isaiah Likely',5.9],['Terrance Ferguson',1.2],['Ja\'Tavion Sanders',0.9]],
      blurb: 'A disappointing 7th‚Äëplace finish last year masks how loaded you are: Bijan‚ÄìBreece at RB and Caleb at QB make you the consensus No.¬†2. Fix tight end and you could be lifting the trophy.'
    },
    {
      rank: 3,
      name: 'MHJTIME',
      owner: 'rango_',
      initials: 'MH',
      tier: 'Contender',
      roast: 'If you ever find two real running backs, the rest of us are toast.',
      overallValue: 454,
      starterValue: 944,
      avgAge: 25.1,
      needs: ['RB','Picks'],
      ranks: { qb: 2, rb: 11, wr: 2, te: 1, draft: 12, starter: 2 },
      draftValue: 18,
      draftPicks: ['2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Jayden Daniels',39.2,'starter'],['Geno Smith',0.2],['Daniel Jones',0]],
      rb: [['Chuba Hubbard',35.3,'starter'],['Brian Robinson',22.1,'starter'],['Rico Dowdle',2.7]],
      wr: [['Ja\'Marr Chase',97.4,'starter'],['Malik Nabers',85.6,'starter'],['Marvin Harrison Jr.',52.2,'starter'],['Travis Hunter',25.9],['Courtland Sutton',7.6]],
      te: [['Trey McBride',64.3,'starter'],['Harold Fannin',1.1],['Zach Ertz',0.6]],
      blurb: 'Last in 2023, semifinalist in 2024, top three in 2025. The best WR trio on the planet and a top‚Äëfive tight end make you lethal; the only thing between you and a title is your RB room.'
    },
    {
      rank: 4,
      name: 'Ghastly Grayskull Gang',
      owner: 'GrayskullXX',
      initials: 'GG',
      tier: 'Frisky',
      roast: 'Your pick stash is bigger than your WR room.',
      overallValue: 323,
      starterValue: 885,
      avgAge: 24.4,
      needs: ['WR'],
      ranks: { qb: 7, rb: 6, wr: 11, te: 2, draft: 3, starter: 10 },
      draftValue: 59,
      draftPicks: ['2026 1st (18.5) x2','2026 2nd (3)','2026 3rd x3 (0.1)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['C.J. Stroud',12.5,'starter'],['Michael Penix',1.7],['Justin Fields',0.3]],
      rb: [['Omarion Hampton',49.6,'starter'],['TreVeyon Henderson',38.2,'starter'],['D\'Andre Swift',18,'starter'],['Tyjae Spears',8.7],['Tank Bigsby',5.2]],
      wr: [['Xavier Worthy',31,'starter'],['DK Metcalf',12.8,'starter'],['Deebo Samuel',4,'starter'],['Tank Dell',3.1],['Quentin Johnston',1.6]],
      te: [['Brock Bowers',66,'starter'],['Dalton Schultz',0.3]],
      blurb: 'From the consolation bracket to a top‚Äëfour power rank in two years. Stroud and Bowers form a terrifying core; use your mountain of picks to buy a proper WR1 and crash the finals.'
    },
    {
      rank: 5,
      name: 'Rasheeing the Scene',
      owner: 'ToreroGaucho',
      initials: 'RS',
      tier: 'Frisky',
      roast: 'Your WR room is a meme waiting to happen.',
      overallValue: 378,
      starterValue: 889,
      avgAge: 25.3,
      needs: ['WR','Picks'],
      ranks: { qb: 1, rb: 2, wr: 9, te: 5, draft: 9, starter: 9 },
      draftValue: 24,
      draftPicks: ['2026 1st via GauchoTrain (18.5)','2026 2nd (3)','2026 3rd (0.1)','2027 2nd (2.5)'],
      qb: [['Josh Allen',43.5,'starter'],['Matthew Stafford',0.1],['Will Levis',0]],
      rb: [['De\'Von Achane',73.2,'starter'],['Bucky Irving',69.5,'starter'],['Quinshon Judkins',37.2,'starter'],['Travis Etienne',5.6],['Trey Benson',6.2],['Austin Ekeler',1.7]],
      wr: [['Rashee Rice',55,'starter'],['Josh Downs',9.1,'starter'],['Michael Pittman',6.7],['Jauan Jennings',6,'starter'],['Keon Coleman',2.8]],
      te: [['T.J. Hockenson',19.4,'starter'],['David Njoku',10.7]],
      blurb: 'Fifth and fifth the last two years. Josh Allen is an MVP, your RB room is a Ferrari and your WRs are barely road legal. Without a true WR1 you‚Äôre stuck in the frisky middle.'
    },
    {
      rank: 6,
      name: 'Kittler on the Roof',
      owner: 'bchodos',
      initials: 'KR',
      tier: 'Contender',
      roast: 'Your floor is nice but your ceiling might be drywall.',
      overallValue: 354,
      starterValue: 924,
      avgAge: 25.6,
      needs: [],
      ranks: { qb: 3, rb: 7, wr: 6, te: 4, draft: 6, starter: 4 },
      draftValue: 40,
      draftPicks: ['2026 1st (18.5)','2026 2nd (3)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Joe Burrow',27.3,'starter'],['Baker Mayfield',7.2],['Bryce Young',0.3]],
      rb: [['Jonathan Taylor',67.7,'starter'],['Tony Pollard',14.2,'starter'],['RJ Harvey',13.5,'starter'],['Najee Harris',8.2],['Dameon Pierce',0]],
      wr: [['Puka Nacua',71.3,'starter'],['Garrett Wilson',45.8,'starter'],['Chris Godwin',17.1],['Calvin Ridley',5],['Christian Watson',0.9]],
      te: [['George Kittle',30.2,'starter'],['Tucker Kraft',2.8],['Luke Musgrave',0]],
      blurb: 'Back‚Äëto‚Äëback finals appearances capped with a 2024 title. The core is aging and thin behind the starters, so the models drop you to sixth. Your consistency will keep you in the hunt.'
    },
    {
      rank: 7,
      name: 'Chudders Football Team',
      owner: 'Chudders',
      initials: 'CF',
      tier: 'Trust the Process',
      roast: 'Two firsts in two years and Gibbs. You‚Äôre that guy bench‚Äëpressing next to the trophy case.',
      overallValue: 316,
      starterValue: 772,
      avgAge: 24.3,
      needs: ['WR','QB'],
      ranks: { qb: 8, rb: 3, wr: 12, te: 6, draft: 1, starter: 12 },
      draftValue: 74,
      draftPicks: ['2026 1st (18.5) x2','2026 2nd (3)','2026 3rd (0.1) x2','2027 1st (15.7) x2','2027 2nd (2.5)'],
      qb: [['Justin Herbert',13.9,'starter'],['Kirk Cousins',0],['Tyler Shough',0],['Kenny Pickett',0]],
      rb: [['Jahmyr Gibbs',90.1,'starter'],['Ashton Jeanty',79.1,'starter'],['Bhayshul Tuten',6.9,'starter']],
      wr: [['Emeka Egbuka',22.7,'starter'],['Jaylin Noel',4.3],['Adonai Mitchell',1.2],['Pat Bryant',1.1,'starter'],['DeMario Douglas',0.4,'starter']],
      te: [['Colston Loveland',20.5,'starter'],['Theo Johnson',0.1],['Juwan Johnson',0]],
      blurb: 'You‚Äôve been stuck around eighth, but your draft capital is unmatched. Build around Gibbs and Herbert, and next year‚Äôs ranking could look very different.'
    },
    {
      rank: 8,
      name: 'Burden of Etienne‚Äëy Woody',
      owner: 'kharlo w',
      initials: 'BE',
      tier: 'Fraud',
      roast: 'Justin Jefferson can only carry you so far.',
      overallValue: 285,
      starterValue: 855,
      avgAge: 25.4,
      needs: ['QB','RB','TE'],
      ranks: { qb: 12, rb: 10, wr: 5, te: 11, draft: 2, starter: 11 },
      draftValue: 61,
      draftPicks: ['2026 1st (18.5) x2','2026 2nd (3) x2','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Kyler Murray',4.2,'starter'],['Tua Tagovailoa',1.3],['Will Howard',0]],
      rb: [['Isiah Pacheco',21.6,'starter'],['James Conner',16.2,'starter'],['Jordan Mason',11.9,'starter'],['Rhamondre Stevenson',11]],
      wr: [['Justin Jefferson',94.9,'starter'],['Brandon Aiyuk',24.6],['George Pickens',15.8,'starter'],['Luther Burden',10.1,'starter']],
      te: [['Mark Andrews',3.9,'starter'],['Dalton Kincaid',3],['Mike Gesicki',0.1]],
      blurb: 'Solidly in the middle of the pack the last two years. Jefferson and Aiyuk offer hope, but quarterback and running‚Äëback roulette drag you down. Use those extra firsts to find a real QB.'
    },
    {
      rank: 9,
      name: 'The Legion of Bouz',
      owner: 'KidBouzie',
      initials: 'LB',
      tier: 'Frisky',
      roast: 'Mahomes and ARSB deserve a tight end with a pulse.',
      overallValue: 291,
      starterValue: 892,
      avgAge: 25.5,
      needs: ['TE','Picks','RB'],
      ranks: { qb: 6, rb: 8, wr: 4, te: 12, draft: 11, starter: 7 },
      draftValue: 21,
      draftPicks: ['2026 2nd (3)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Patrick Mahomes',17.5,'starter'],['Dak Prescott',1.1],['Cameron Ward',1.5]],
      rb: [['Christian McCaffrey',34.4,'starter'],['Joe Mixon',28],['Tyrone Tracy',21,'starter'],['Aaron Jones',11.6,'starter']],
      wr: [['Amon‚ÄëRa St. Brown',81.2,'starter'],['DeVonta Smith',29.5,'starter'],['Jaylen Waddle',28.7,'starter'],['Hollywood Brown',5.4],['Jakobi Meyers',4.5]],
      te: [['Hunter Henry',0.2,'starter'],['Ben Sinnott',0],['Tommy Tremble',0]],
      blurb: 'You took home the 2022 trophy but have slid since. Mahomes and your WR trio still scare everyone, but your RBs and TEs are aging fast. A rebuild may be closer than you think.'
    },
    {
      rank: 10,
      name: 'Father Time',
      owner: 'Redrumsregrub',
      initials: 'FT',
      tier: 'Frisky',
      roast: 'Your WRs are wagyu beef; your RBs are ramen noodles.',
      overallValue: 288,
      starterValue: 890,
      avgAge: 25.2,
      needs: ['QB','RB','TE'],
      ranks: { qb: 10, rb: 12, wr: 3, te: 9, draft: 8, starter: 8 },
      draftValue: 37,
      draftPicks: ['2026 1st (18.5)','2026 3rd (0.1) x2','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Bo Nix',7.1,'starter'],['Jared Goff',1.6],['Brock Purdy',0.7]],
      rb: [['Jaylen Warren',12.2,'starter'],['Isaac Guerendo',8.9,'starter'],['Braelon Allen',2]],
      wr: [['Brian Thomas',75.1,'starter'],['Ladd McConkey',61,'starter'],['Tetairoa McMillan',36.3,'starter'],['Rome Odunze',18.9],['Davante Adams',8.5,'starter'],['Jerry Jeudy',7.8]],
      te: [['Evan Engram',6.4,'starter'],['Pat Freiermuth',1.4],['Michael Mayer',0]],
      blurb: 'Semi‚Äëfinalist in 2024 but sliding in 2025. Your veteran WR room props up the value, but the backfield and tight ends put a hard cap on your upside.'
    },
    {
      rank: 11,
      name: 'Sleeping Giants',
      owner: 'zbcowan',
      initials: 'SG',
      tier: 'Frisky',
      roast: 'Your WRs peaked when Fortnite did.',
      overallValue: 280,
      starterValue: 897,
      avgAge: 26.8,
      needs: ['WR','TE'],
      ranks: { qb: 5, rb: 5, wr: 10, te: 8, draft: 7, starter: 6 },
      draftValue: 37,
      draftPicks: ['2026 1st (18.5)','2026 3rd (0.1)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Jalen Hurts',31.9,'starter'],['Sam Darnold',0.2],['Jalen Milroe',0]],
      rb: [['Kyren Williams',50.9,'starter'],['Josh Jacobs',44.7,'starter'],['Derrick Henry',41.3,'starter'],['Jonathon Brooks',2.5],['Devin Neal',2.1]],
      wr: [['Jordan Addison',16.6,'starter'],['Khalil Shakir',15.4,'starter'],['Mike Evans',10.4,'starter'],['Christian Kirk',5.7],['Stefon Diggs',3.5],['Cooper Kupp',2.2],['Keenan Allen',1.5],['Amari Cooper',1]],
      te: [['Jonnu Smith',5.3,'starter'],['Dallas Goedert',1.9],['Brenton Strange',1.4]],
      blurb: 'You rode Hurts and a deep backfield to the 2024 final but fell short. Time is catching up to your receivers. Sell a vet and pivot before the window slams shut.'
    },
    {
      rank: 12,
      name: 'The Boonist Monks',
      owner: 'GauchoTrain',
      initials: 'BM',
      tier: 'Frisky',
      roast: 'Your team could win it all or retire it all.',
      overallValue: 290,
      starterValue: 935,
      avgAge: 27.2,
      needs: ['Picks','RB'],
      ranks: { qb: 4, rb: 9, wr: 7, te: 7, draft: 10, starter: 3 },
      draftValue: 21,
      draftPicks: ['2026 2nd via Redrumsregrub (3)','2027 1st (15.7)','2027 2nd (2.5)'],
      qb: [['Lamar Jackson',33.6,'starter'],['Joe Milton',0],['Russell Wilson',0]],
      rb: [['James Cook',53.6,'starter'],['David Montgomery',18.5,'starter'],['Alvin Kamara',14.6,'starter'],['Ray Davis',3.7],['Antonio Gibson',0.8],['Nick Chubb',0.1]],
      wr: [['Jaxon Smith‚ÄëNjigba',57.9,'starter'],['Tyreek Hill',23.9,'starter'],['Terry McLaurin',23.3,'starter'],['Zay Flowers',19.9],['Rashid Shaheed',4.9]],
      te: [['Travis Kelce',9.6,'starter'],['Jake Ferguson',3.3],['Luke Schoonmaker',0]],
      blurb: 'Third place in 2023, eighth in 2024 and now you sit at the bottom. Lamar, Tyreek and Kelce can still win you weeks, but your running backs are getting old and there‚Äôs no draft capital to replenish them.'
    }
  ],
  awards: [
    { tag:'üí•', title:'Boom potential', text:'Rasheeing the Scene. A couple of 180‚Äëpoint weeks are coming and you won‚Äôt even see them on your schedule.' },
    { tag:'üì¶', title:'Best draft stash', text:'Chudders Football Team. You control the 2026 and 2027 drafts. Use that leverage wisely.' },
    { tag:'üîí', title:'Safest floor', text:'Kittler on the Roof. You rarely drop below 120 but you also rarely explode.' },
    { tag:'ü©ª', title:'Medical red flag', text:'The Boonist Monks. One more knee and this goes from contender to hospice.' },
    { tag:'üöÄ', title:'Fastest riser', text:'Ghastly Grayskull Gang. From the consolation bracket to the top four in two years.' }
  ]
};

// Additional projections and essays for each team. These are kept separate from the core
// league data so we don‚Äôt have to modify the imported roster values. Each entry
// provides a projected weekly point total, a schedule difficulty (average rank of
// opponents) and a long‚Äëform preseason preview. These numbers were
// approximated from starter values and historical context.
const extras = {
  'General Ken‚Äëobi': {
    weeklyPoints: 48.9,
    scheduleRank: 7.0,
    essay: `Since capturing the 2023 title you‚Äôve become the franchise everyone measures themselves against. A surprise early exit in 2024 barely dented your aura ‚Äì your bench could compete in most leagues.  The 2025 roster reads like the All‚ÄëPro team: Maye and Richardson headline a four‚Äëdeep quarterback room with J.J.¬†McCarthy and Trevor Lawrence backing them up.  Saquon Barkley and Kenneth Walker are both in their primes behind improved offensive lines.  CeeDee¬†Lamb landed inside the top ten of ESPN‚Äôs 2025 overall fantasy rankings„Äê571361653410684‚Ä†L161-L168„Äë while Nico Collins and Drake London are ascending stars.  The only real question is how to distribute touches.  Your schedule is average and projections peg you around 48.9 points per week, but with this talent the ceiling is limitless.  The group chat loves to tease you about passing on Jordan Addison back in 2023 and your never‚Äëending taxi squad debates, but they‚Äôd trade places with you in a second.`
  },
  'Noble FFT': {
    weeklyPoints: 45.2,
    scheduleRank: 6.91,
    essay: `After finishing in the consolation bracket in 2024 you come into 2025 with the league‚Äôs scariest backfield.  Bijan¬†Robinson and Breece¬†Hall both rank among the top fantasy backs„Äê571361653410684‚Ä†L161-L168„Äë and give you a weekly floor others envy.  Rookie quarterback Caleb¬†Williams arrives with as much hype as any prospect in a decade, and Jordan¬†Love is a handy insurance policy.  With A.J.¬†Brown and Tee¬†Higgins manning the flanks your weekly projection sits around 45 points.  What‚Äôs missing?  An elite tight end and a little receiver depth keep you in the frisky tier for now.  Historically you‚Äôve drafted like a real‚Äëlife GM, making big bets on young cores.  Your schedule is slightly tougher than average, but a healthy Higgins contract and a midseason trade for a tight end could vault you into the title conversation.`
  },
  'MHJTIME': {
    weeklyPoints: 47.2,
    scheduleRank: 6.82,
    essay: `Few franchises have turned things around as dramatically as MHJTIME.  You were the toilet‚Äëbowl runner‚Äëup in 2023, surged to a third‚Äëplace finish last season and now sit firmly among the contenders.  Ja‚ÄôMarr¬†Chase and Malik¬†Nabers are both top‚Äëten overall assets„Äê571361653410684‚Ä†L161-L168„Äë and teaming them with Marvin¬†Harrison Jr. gives you a historic trio.  Trey¬†McBride blossomed into a top‚Äëfive tight end.  Rookie quarterback Jayden¬†Daniels brings electric rushing upside.  The downside: your running backs are patchwork ‚Äì Chuba¬†Hubbard and Brian¬†Robinson might combine for a dozen points on a bad day.  With a slightly above‚Äëaverage schedule and a projected 47 points per week, you‚Äôre a trade or rookie breakout away from a title.  Sit tight and it could be another ‚Äúwhat if‚Äù year.`
  },
  'Ghastly Grayskull Gang': {
    weeklyPoints: 44.3,
    scheduleRank: 6.55,
    essay: `It takes patience to turn draft picks into production, and you‚Äôve executed the blueprint.  After ranking tenth in starters using our metrics, you cashed in capital to load up on explosive young runners and paired them with C.J.¬†Stroud and Brock¬†Bowers ‚Äì both consensus top‚Äëfive dynasty assets.  The receiver room remains thin; Xavier¬†Worthy‚Äôs 4.21 speed will blow up highlight reels, but DK¬†Metcalf and Deebo¬†Samuel are better complementary pieces than primary alphas.  Your schedule is modest and the weekly projection hovers around 44 points.  Henderson or Hampton hitting would put you in the mix.  Pundits in the chat love to remind you that picks don‚Äôt score points; 2025 is your chance to prove them wrong.`
  },
  'Rasheeing the Scene': {
    weeklyPoints: 44.5,
    scheduleRank: 6.73,
    essay: `This roster is a weekly thrill ride: you led the league in points several weeks in 2024 yet still finished fifth.  Josh¬†Allen is still the QB1 on most boards and your committee of rookies ‚Äì De‚ÄôVon¬†Achane, Bucky¬†Irving, Quinshon¬†Judkins ‚Äì oozes upside.  Rashee¬†Rice‚Äôs suspension and the lack of a true alpha receiver leave you praying for touchdown variance.  Projections around 44 points mirror that imbalance, and the schedule doesn‚Äôt help.  The consensus in the chat: invest in a steady WR1 rather than another speedster.  If you can flip a pick for a reliable receiver, you could finally convert big totals into a deep run.`
  },
  'Kittler on the Roof': {
    weeklyPoints: 46.2,
    scheduleRank: 6.64,
    essay: `The defending champion returns most of its core, but regression is a fickle thing.  Joe¬†Burrow, Jonathan¬†Taylor and Puka¬†Nacua all battled injuries last season.  If they rebound, the starting lineup remains as steady as any.  Your weekly projection around 46 points is tied for third‚Äëhighest, though depth is still a concern ‚Äì one injury and you‚Äôre starting Bryce¬†Young.  The schedule is slightly tougher than average.  You‚Äôve thrived on consistency: runner‚Äëup in 2022, runner‚Äëup again in 2023, champion in 2024.  Whether the magic continues or Father Time intervenes remains to be seen.  Expect plenty of sarcastic chat messages about ‚Äútrusting the process‚Äù whenever Tony¬†Pollard has a three‚Äëyard carry.`
  },
  'Chudders Football Team': {
    weeklyPoints: 38.6,
    scheduleRank: 6.46,
    essay: `The rebuild is in full swing.  Jahmyr¬†Gibbs and Ashton¬†Jeanty give you perhaps the best young RB duo in the league, and Justin¬†Herbert remains underrated in dynasty circles.  Unfortunately the WR room is barren and your backup QBs read like waiver‚Äëwire fodder.  With a league‚Äëhigh haul of first‚Äëround picks you‚Äôre clearly playing for 2026.  Your weekly projection around 39 points and a middling schedule suggest a long season, but with two years of drafts to come, you can afford the lumps.  The chat jokes about you icing trade offers; given your war chest you can afford to wait until the picks mature.`
  },
  'Burden of Etienne‚Äëy Woody': {
    weeklyPoints: 42.8,
    scheduleRank: 6.09,
    essay: `You‚Äôre a cautionary tale of stars without support.  Justin¬†Jefferson remains a top‚Äëthree overall asset„Äê571361653410684‚Ä†L161-L168„Äë, and Mark¬†Andrews plus Dalton¬†Kincaid gives you arguably the best tight‚Äëend room in the league.  Yet Kyler¬†Murray‚Äôs health is a question mark, your running backs are a triage unit and depth behind Jefferson is thin.  Your weekly projection sits around 43 points and the schedule is friendly, but you‚Äôve lingered in the lower half of the standings the past two seasons.  Rumours in the chat suggest you might trade Jefferson for a king‚Äôs ransom to jump‚Äëstart a rebuild.  Do it and 2025 becomes the beginning of a new arc; don‚Äôt and you risk lingering in purgatory.`
  },
  'The Legion of Bouz': {
    weeklyPoints: 44.6,
    scheduleRank: 6.36,
    essay: `Since winning the inaugural title in 2022, you‚Äôve been stuck in the middle.  Patrick¬†Mahomes and Amon‚ÄëRa¬†St.¬†Brown anchor an electric passing attack.  Christian¬†McCaffrey and Jaylen¬†Waddle are still elite assets„Äê571361653410684‚Ä†L161-L168„Äë, but Joe¬†Mixon and Aaron¬†Jones are nearing the cliff, and your tight‚Äëend room is empty.  Projected weekly points sit around 45 and your schedule ranks slightly above average.  You‚Äôve thrived on big swings ‚Äî remember trading for Mahomes in 2023?  To make another run, you‚Äôll likely need to package a receiver or back for an elite tight end or youth infusion.  Until then expect more jokes about your ‚ÄúVoltron receivers‚Äù in the chat and another 7‚Äì6 season.`
  },
  'Father Time': {
    weeklyPoints: 44.5,
    scheduleRank: 6.27,
    essay: `Living up to your name, your roster reads like a ‚ÄúWho‚Äôs Who‚Äù of rookies and veterans.  Brian¬†Thomas Jr. and Ladd¬†McConkey headline the 2024 rookie class; Rome¬†Odunze waits in the wings.  Your running backs are all committee pieces and Bo¬†Nix profiles as a mid‚Äërange QB2.  Weekly projections around 45 points and a schedule near the middle scream mediocrity.  Your best hope is that one of Warren or Guerendo seizes a backfield and Odunze ascends quickly.  Otherwise you‚Äôre a classic spoiler who knocks contenders out of the playoffs but never raises the trophy.  The chat will love your random 180‚Äëpoint weeks and ignore the rest.`
  },
  'Sleeping Giants': {
    weeklyPoints: 44.9,
    scheduleRank: 6.0,
    essay: `The name says it all: a roster of aging stars that could awaken for one more run.  Derrick¬†Henry and Josh¬†Jacobs remain workhorses but both have more than 1,500 career carries.  Jalen¬†Hurts is a cheat code, and Jordan¬†Addison appears ready to claim a bigger role opposite Cooper¬†Kupp and Keenan¬†Allen.  Your weekly projection around 45 points and one of the league‚Äôs softest schedules suggest you‚Äôre fighting uphill.  You‚Äôve reached a championship (2024) and a semifinal in the last three seasons; if the veterans hold up you could sneak into the playoffs again.  If not, trade those names and embrace the rebuild‚Äîbefore the chat starts calling you the ‚ÄúIsland of Misfit WR1s‚Äù again.`
  },
  'The Boonist Monks': {
    weeklyPoints: 46.8,
    scheduleRank: 6.18,
    essay: `After claiming third place in 2023, The Boonist Monks looked mortal in 2024, bowing out before the semifinals.  Lamar¬†Jackson, Tyreek¬†Hill and Travis¬†Kelce are still video‚Äëgame characters, but all three are approaching age cliffs.  James¬†Cook and David¬†Montgomery provide steady RB production and Zay¬†Flowers could ascend.  Projected weekly points around 47 put you in contention and your schedule is favourable, but your lack of picks makes retooling tricky.  In the group chat you‚Äôre often the instigator of side bets and polls; 2025 might be the season when you push all your chips in for one last run before selling the farm.`
  }
};

// Helpers and rendering functions (same as previous version)
function idFromName(name){ return name.replace(/\s+/g,'-').toLowerCase(); }
function sum(arr){ return arr.reduce((acc,[,val]) => acc + (Number(val)||0), 0); }
function rankToPct(rank){ const max=league.teams.length; return (1 - (rank-1)/(max-1)) * 100; }
function badgeTier(t){ if(t==='Contender') return 'good'; if(t==='Fraud') return 'bad'; if(t==='Trust the Process') return 'warn'; return ''; }
function gradientFor(initials){ const seed=initials.charCodeAt(0)+initials.charCodeAt(1); const h1=seed%360; const h2=(h1+60)%360; return `linear-gradient(135deg, hsl(${h1},80%,55%), hsl(${h2},80%,55%))`; }

// Render navigation, cards, table and awards
const toc = document.getElementById('toc');
const teamsDiv = document.getElementById('teams');
const awardsDiv = document.getElementById('awardsList');
const table = document.getElementById('masterTable');

league.teams.sort((a,b) => a.rank - b.rank);

// Track tiers for dividers
let lastTier = '';

league.teams.forEach(team => {
  // Insert tier divider when tier changes
  if(team.tier !== lastTier){
    lastTier = team.tier;
    const divider = document.createElement('div');
    divider.className = 'tier-divider fade-up';
    const tierClass = team.tier === 'Contender' ? 'contender' : team.tier === 'Frisky' ? 'frisky' : team.tier === 'Trust the Process' ? 'process' : 'fraud';
    divider.innerHTML = `<span class="tier-label ${tierClass}">${team.tier}</span><div class="tier-line"></div>`;
    teamsDiv.appendChild(divider);
  }
  // nav link
  const link = document.createElement('a');
  link.href = `#${idFromName(team.name)}`;
  link.textContent = `#${team.rank} ${team.name}`;
  toc.appendChild(link);
  // card
  const card = document.createElement('article');
  card.className = 'card fade-up';
  card.id = idFromName(team.name);
  const tier = badgeTier(team.tier);
  const pct = rankToPct(team.rank).toFixed(1);
  card.innerHTML = `
    <div class="compare-check" data-team="${team.name}" title="Compare"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></div>
    <div class="rank-pill">#${team.rank}</div>
    <div class="team-header">
      <div style="display:flex;gap:.8rem;align-items:center">
        <div class="avatar" style="background:${gradientFor(team.initials)}">${team.initials}</div>
        <div>
          <h3 style="margin:0">${team.name}</h3>
          <div style="color:var(--muted);font-size:.88rem">@${team.owner}</div>
        </div>
      </div>
      <span class="badge ${tier}">${team.tier}</span>
    </div>
    <div class="team-meta">
      <span class="badge">Overall value ${team.overallValue}</span>
      <span class="badge">Starter value ${team.starterValue}</span>
      <span class="badge">Avg age ${team.avgAge}</span>
      ${team.needs && team.needs.length ? `<span class="badge warn">Needs: ${team.needs.join(', ')}</span>` : ''}
    </div>
    <div class="rank-line"><div class="bar" style="width:0%" data-final="${pct}"></div></div>
    <p style="margin-top:1rem">${team.blurb}</p>
    <p class="roast">‚Äú${team.roast}‚Äù</p>
    <details>
      <summary>Ranks, roster and picks</summary>
      <table class="team-table">
        <thead><tr><th>Category</th><th>Rank</th><th>Total value</th></tr></thead>
        <tbody>
          <tr><td>Starter</td><td>${team.ranks.starter}</td><td>${team.starterValue}</td></tr>
          <tr><td>QB</td><td>${team.ranks.qb}</td><td>${sum(team.qb)}</td></tr>
          <tr><td>RB</td><td>${team.ranks.rb}</td><td>${sum(team.rb)}</td></tr>
          <tr><td>WR</td><td>${team.ranks.wr}</td><td>${sum(team.wr)}</td></tr>
          <tr><td>TE</td><td>${team.ranks.te}</td><td>${sum(team.te)}</td></tr>
          <tr><td>Draft</td><td>${team.ranks.draft}</td><td>${team.draftValue}</td></tr>
        </tbody>
      </table>
      ${['qb','rb','wr','te'].map(pos => {
        const pretty = pos.toUpperCase();
        return `<h4 style="margin-top:1.2rem">${pretty}</h4><ul class="players">${team[pos].map(([n,v,tag]) => `<li>${tag === 'starter' ? '‚≠ê ' : ''}${n} <span class="val">(${v})</span></li>`).join('')}</ul>`;
      }).join('')}
      <h4 style="margin-top:1rem">Draft capital</h4>
      <ul class="players">${team.draftPicks.map(p => `<li>${p}</li>`).join('')}</ul>
    </details>
  `;
  teamsDiv.appendChild(card);
});

// Awards
league.awards.forEach(a => {
  const div = document.createElement('div');
  div.className = 'award';
  div.innerHTML = `<div class="tag">${a.tag}</div><div><h3 style="margin:0 0 .25rem">${a.title}</h3><p style="margin:0;color:var(--muted)">${a.text}</p></div>`;
  awardsDiv.appendChild(div);
});

// Build sortable table
function buildTable(){
  const cols = [
    { key:'rank', label:'#', numeric:true },
    { key:'name', label:'Team' },
    { key:'owner', label:'Owner' },
    { key:'tier', label:'Tier' },
    { key:'overallValue', label:'Ov Val', numeric:true },
    { key:'starterValue', label:'St Val', numeric:true },
    { key:'avgAge', label:'Age', numeric:true },
    { key:'qb', label:'QB', numeric:true, path:'ranks.qb' },
    { key:'rb', label:'RB', numeric:true, path:'ranks.rb' },
    { key:'wr', label:'WR', numeric:true, path:'ranks.wr' },
    { key:'te', label:'TE', numeric:true, path:'ranks.te' },
    { key:'draft', label:'Draft', numeric:true, path:'ranks.draft' }
  ];
  let html='<thead><tr>' + cols.map(c => `<th data-key="${c.key}" data-path="${c.path||''}" data-num="${c.numeric?1:0}">${c.label}</th>`).join('') + '</tr></thead><tbody>';
  league.teams.forEach((t,idx) => {
    html += `<tr data-id="${idFromName(t.name)}" data-idx="${idx}"><td>${t.rank}</td><td>${t.name}</td><td>${t.owner}</td><td>${t.tier}</td><td>${t.overallValue}</td><td>${t.starterValue}</td><td>${t.avgAge}</td><td>${t.ranks.qb}</td><td>${t.ranks.rb}</td><td>${t.ranks.wr}</td><td>${t.ranks.te}</td><td>${t.ranks.draft}</td></tr>`;
  });
  html += '</tbody>';
  table.innerHTML = html;
  // row click
  table.querySelectorAll('tbody tr').forEach(tr => tr.addEventListener('click', () => {
    const id = tr.dataset.id;
    document.getElementById(id)?.scrollIntoView({behavior:'smooth',block:'start'});
  }));
  // sorting
  const headers = table.querySelectorAll('th');
  let sortState = { key:null, asc:true };
  headers.forEach(th => th.addEventListener('click', () => {
    headers.forEach(h => h.classList.remove('sort-asc','sort-desc'));
    const key = th.getAttribute('data-key');
    const path = th.getAttribute('data-path');
    const numeric = th.getAttribute('data-num') === '1';
    let asc = true;
    if(sortState.key === key && sortState.asc === true) asc = false;
    sortState = { key, asc };
    th.classList.add(asc ? 'sort-asc' : 'sort-desc');
    const rows = Array.from(table.querySelectorAll('tbody tr'));
    rows.sort((a,b) => {
      const ta = league.teams[parseInt(a.dataset.idx)];
      const tb = league.teams[parseInt(b.dataset.idx)];
      const va = path ? path.split('.').reduce((o,k) => o[k], ta) : ta[key];
      const vb = path ? path.split('.').reduce((o,k) => o[k], tb) : tb[key];
      if(numeric) return asc ? (va - vb) : (vb - va);
      return asc ? (''+va).localeCompare(''+vb) : (''+vb).localeCompare(''+va);
    });
    const body = table.querySelector('tbody');
    body.innerHTML='';
    rows.forEach(r => body.appendChild(r));
  }));
}
buildTable();

// Charts: plain canvas scatter and stacked bar
function drawScatter(canvas, teams){
  const ctx = canvas.getContext('2d');
  const dpr = devicePixelRatio || 1;
  const W = canvas.width = canvas.clientWidth * dpr;
  const H = canvas.height = canvas.clientHeight * dpr;
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  const pad = 40;
  const w = canvas.clientWidth - pad*2;
  const h = canvas.clientHeight - pad*2;
  const xs = teams.map(t => t.rank);
  const ys = teams.map(t => t.overallValue);
  const xMin = Math.min(...xs) - .5;
  const xMax = Math.max(...xs) + .5;
  const yMin = Math.min(...ys) * 0.9;
  const yMax = Math.max(...ys) * 1.05;
  const xScale = v => pad + (v - xMin)/(xMax - xMin) * w;
  const yScale = v => pad + h - (v - yMin)/(yMax - yMin) * h;
  ctx.clearRect(0,0,canvas.clientWidth,canvas.clientHeight);
  ctx.strokeStyle = 'rgba(255,255,255,0.05)';
  ctx.fillStyle = 'rgba(255,255,255,0.6)';
  ctx.font = '12px system-ui';
  for(let r=Math.ceil(xMin); r<=Math.floor(xMax); r++){
    const x = xScale(r);
    ctx.beginPath(); ctx.moveTo(x,pad); ctx.lineTo(x,pad+h); ctx.stroke();
    ctx.fillText(r.toString(), x-3, pad+h+14);
  }
  const ySteps = 5;
  for(let i=0;i<=ySteps;i++){
    const v = yMin + i*(yMax-yMin)/ySteps;
    const y = yScale(v);
    ctx.beginPath(); ctx.moveTo(pad,y); ctx.lineTo(pad+w,y); ctx.stroke();
    ctx.fillText(Math.round(v), 5, y+4);
  }
  teams.forEach(t => {
    const x = xScale(t.rank);
    const y = yScale(t.overallValue);
    ctx.beginPath();
    ctx.arc(x,y,4.5,0,Math.PI*2);
    ctx.fillStyle = t.rank === 1 ? '#8b5cf6' : 'rgba(255,255,255,0.7)';
    ctx.fill();
  });
}
function drawStacked(canvas, teams){
  const ctx = canvas.getContext('2d');
  const dpr = devicePixelRatio || 1;
  const W = canvas.width = canvas.clientWidth * dpr;
  const H = canvas.height = canvas.clientHeight * dpr;
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  const pad = 40;
  const w = canvas.clientWidth - pad*2;
  const h = canvas.clientHeight - pad*2;
  ctx.clearRect(0,0,canvas.clientWidth,canvas.clientHeight);
  const parts = ['qb','rb','wr','te'];
  const colors = ['#8b5cf6','#ec4899','#00d084','#ffaa00'];
  const data = parts.map(p => teams.map(t => sum(t[p])));
  const totals = teams.map((_,i) => parts.reduce((a,p,pi) => a + data[pi][i], 0));
  const yMax = Math.max(...totals)*1.1;
  const xScale = i => pad + i * (w/teams.length) + 10;
  const barW = Math.max(10,(w/teams.length)-20);
  const yScale = v => pad + h - (v/yMax) * h;
  ctx.strokeStyle = 'rgba(255,255,255,0.05)';
  ctx.fillStyle = 'rgba(255,255,255,0.6)';
  ctx.font = '12px system-ui';
  for(let i=0;i<=5;i++){
    const v = i*yMax/5;
    const y = yScale(v);
    ctx.beginPath(); ctx.moveTo(pad,y); ctx.lineTo(pad+w,y); ctx.stroke();
    ctx.fillText(Math.round(v), 5, y+4);
  }
  teams.forEach((t,idx) => {
    let base = 0;
    parts.forEach((p,pi) => {
      const val = data[pi][idx];
      const x = xScale(idx);
      const y1 = yScale(base);
      const y2 = yScale(base+val);
      ctx.fillStyle = colors[pi];
      ctx.fillRect(x,y2,barW,y1-y2);
      base += val;
    });
    ctx.save();
    ctx.translate(xScale(idx)+barW/2,pad+h+12);
    ctx.rotate(-Math.PI/6);
    ctx.fillStyle = 'rgba(255,255,255,0.6)';
    ctx.textAlign = 'left';
    ctx.fillText(`#${t.rank}`, 0, 0);
    ctx.restore();
  });
}

// Draw scatter of projected points vs schedule difficulty
function drawPtsSched(canvas, infoMap){
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  const dpr = devicePixelRatio || 1;
  const w = canvas.clientWidth;
  const h = canvas.clientHeight;
  canvas.width = w * dpr;
  canvas.height = h * dpr;
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  const pad = 40;
  const plotW = w - pad*2;
  const plotH = h - pad*2;
  // assemble points from extras
  const points = league.teams.map(t => {
    const info = infoMap[t.name] || {};
    return { x: info.scheduleRank || 0, y: info.weeklyPoints || 0, tier: t.tier, name: t.name };
  });
  const xs = points.map(p => p.x);
  const ys = points.map(p => p.y);
  const xMin = Math.min(...xs) - 0.1;
  const xMax = Math.max(...xs) + 0.1;
  const yMin = Math.min(...ys) * 0.95;
  const yMax = Math.max(...ys) * 1.05;
  const xScale = v => pad + (v - xMin)/(xMax - xMin) * plotW;
  const yScale = v => pad + plotH - (v - yMin)/(yMax - yMin) * plotH;
  // clear
  ctx.clearRect(0,0,w,h);
  // axes
  ctx.strokeStyle = 'rgba(255,255,255,0.05)';
  ctx.fillStyle = 'rgba(255,255,255,0.6)';
  ctx.font = '12px system-ui';
  const xSteps=5,ySteps=5;
  for(let i=0;i<=xSteps;i++){
    const v = xMin + (i/xSteps) * (xMax - xMin);
    const x = xScale(v);
    ctx.beginPath(); ctx.moveTo(x,pad); ctx.lineTo(x,pad+plotH); ctx.stroke();
    ctx.fillText(v.toFixed(2), x-12, pad+plotH+14);
  }
  for(let j=0;j<=ySteps;j++){
    const v = yMin + (j/ySteps) * (yMax - yMin);
    const y = yScale(v);
    ctx.beginPath(); ctx.moveTo(pad,y); ctx.lineTo(pad+plotW,y); ctx.stroke();
    ctx.fillText(v.toFixed(1), 5, y+4);
  }
  // point colors by tier
  const tierColor = tier => {
    if(tier === 'Contender') return '#00d084';
    if(tier === 'Frisky') return '#8b5cf6';
    if(tier === 'Trust the Process') return '#ffb703';
    return '#ec4899';
  };
  points.forEach(p => {
    const x = xScale(p.x);
    const y = yScale(p.y);
    ctx.beginPath(); ctx.arc(x,y,4,0,Math.PI*2); ctx.fillStyle = tierColor(p.tier); ctx.fill();
    // label
    ctx.fillStyle = 'rgba(255,255,255,0.7)';
    ctx.font = '10px system-ui';
    ctx.fillText(p.name.split(' ')[0], x+6, y-6);
  });
}

// Draw titles bar chart
function drawTitles(canvas){
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  const dpr = devicePixelRatio || 1;
  const w = canvas.clientWidth;
  const h = canvas.clientHeight;
  canvas.width = w * dpr;
  canvas.height = h * dpr;
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  const pad=40;
  const plotW = w - pad*2;
  const plotH = h - pad*2;
  const titles = {
    'General Ken‚Äëobi':1,
    'Kittler on the Roof':1,
    'The Legion of Bouz':1
  };
  const labels = league.teams.map(t => t.name);
  const values = labels.map(name => titles[name] || 0);
  const maxVal = Math.max(...values) || 1;
  const barW = plotW / values.length * 0.7;
  // axes
  ctx.clearRect(0,0,w,h);
  ctx.strokeStyle = 'rgba(255,255,255,0.05)';
  ctx.fillStyle = 'rgba(255,255,255,0.6)';
  ctx.font = '12px system-ui';
  const ySteps = 3;
  for(let i=0;i<=ySteps;i++){
    const v = i;
    const y = pad + plotH - (v/maxVal) * plotH;
    ctx.beginPath(); ctx.moveTo(pad,y); ctx.lineTo(pad+plotW,y); ctx.stroke();
    ctx.fillText(v.toString(), 5, y+4);
  }
  // bars
  labels.forEach((name, idx) => {
    const val = values[idx];
    const x = pad + idx * (plotW / values.length) + (plotW/values.length - barW)/2;
    const y = pad + plotH - (val/maxVal) * plotH;
    ctx.fillStyle = val > 0 ? '#ec4899' : '#444';
    ctx.fillRect(x, y, barW, (val/maxVal) * plotH);
    // label
    ctx.save();
    ctx.translate(x + barW/2, pad+plotH+12);
    ctx.rotate(-Math.PI/6);
    ctx.fillStyle = 'rgba(255,255,255,0.6)';
    ctx.font = '10px system-ui';
    ctx.fillText(name.split(' ')[0], 0, 0);
    ctx.restore();
  });
}
function buildCharts(){
  drawScatter(document.getElementById('rankValueChart'), league.teams);
  drawStacked(document.getElementById('stackedPosChart'), league.teams);
  // extra charts: points vs schedule and titles
  drawPtsSched(document.getElementById('ptsSchedChart'), extras);
  drawTitles(document.getElementById('titlesChart'));
}
window.addEventListener('resize', buildCharts);
buildCharts();

// Theme toggle
document.getElementById('toggleDark').addEventListener('click', () => document.documentElement.classList.toggle('light'));

// Scroll animations
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if(e.isIntersecting){
      e.target.classList.add('visible');
      const bar = e.target.querySelector('.bar');
      if(bar) requestAnimationFrame(() => bar.style.width = bar.dataset.final + '%');
    }
  });
},{threshold:.15});
document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));
document.querySelectorAll('#teams .card').forEach(el => observer.observe(el));

// Nav active highlight
const navLinks = Array.from(document.querySelectorAll('#toc a'));
const spy = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if(e.isIntersecting && e.target.id){
      navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + e.target.id));
    }
  });
},{rootMargin:'-40% 0px -50% 0px', threshold:[0,1]});
document.querySelectorAll('#teams .card').forEach(el => spy.observe(el));

// Parallax effect
window.addEventListener('scroll', () => {
  const y = window.scrollY;
  document.querySelectorAll('.parallax').forEach(el => el.style.setProperty('--scrollY', y));
});

// After cards are rendered, enhance them with projections and previews
league.teams.forEach(team => {
  const id = idFromName(team.name);
  const card = document.getElementById(id);
  if(!card) return;
  const info = extras[team.name] || {};
  const meta = card.querySelector('.team-meta');
  if(meta){
    // append projected points and schedule badges using extras
    if(info.weeklyPoints){
      const pts = document.createElement('span');
      pts.className = 'badge';
      pts.textContent = `Proj pts ${info.weeklyPoints}`;
      meta.appendChild(pts);
    }
    if(info.scheduleRank){
      const sch = document.createElement('span');
      sch.className = 'badge';
      sch.textContent = `Schedule ${info.scheduleRank}`;
      meta.appendChild(sch);
    }
  }
  // insert preseason preview details after roast line
  const roast = card.querySelector('.roast');
  if(roast && info.essay){
    const det = document.createElement('details');
    det.innerHTML = `<summary>Team analysis</summary><p style="margin:0 0 1rem;line-height:1.5">${info.essay}</p>`;
    roast.parentNode.insertBefore(det, roast.nextSibling);
  }
});

// --- Hamburger menu toggle ---
document.getElementById('hamburger').addEventListener('click', () => {
  document.getElementById('toc').classList.toggle('open');
  document.getElementById('hamburger').setAttribute('aria-expanded', document.getElementById('toc').classList.contains('open'));
});
document.querySelectorAll('#toc a').forEach(link => {
  link.addEventListener('click', () => document.getElementById('toc').classList.remove('open'));
});

// --- Back-to-top button ---
const btt = document.getElementById('backToTop');
window.addEventListener('scroll', () => {
  btt.classList.toggle('show', window.scrollY > 600);
}, { passive: true });
btt.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

// --- Team search / filter ---
(function(){
  const input = document.getElementById('teamSearch');
  const noResults = document.getElementById('noResults');
  input.addEventListener('input', () => {
    const q = input.value.toLowerCase().trim();
    const cards = document.querySelectorAll('#teams .card');
    const dividers = document.querySelectorAll('#teams .tier-divider');
    let visibleCount = 0;
    cards.forEach(card => {
      const text = card.textContent.toLowerCase();
      const match = !q || text.includes(q);
      card.style.display = match ? '' : 'none';
      if(match) visibleCount++;
    });
    // Hide tier dividers if searching
    dividers.forEach(d => d.style.display = q ? 'none' : '');
    noResults.style.display = visibleCount === 0 ? 'block' : 'none';
  });
})();

// --- Compare feature ---
(function(){
  const bar = document.getElementById('compareBar');
  const name1 = document.getElementById('cmpName1');
  const name2 = document.getElementById('cmpName2');
  const goBtn = document.getElementById('cmpGo');
  const clearBtn = document.getElementById('cmpClear');
  const overlay = document.getElementById('compareOverlay');
  const closeBtn = document.getElementById('compareClose');
  const body = document.getElementById('compareBody');
  const title = document.getElementById('compareTitle');
  let selected = [];

  document.querySelectorAll('.compare-check').forEach(btn => {
    btn.addEventListener('click', e => {
      e.stopPropagation();
      const team = btn.dataset.team;
      const idx = selected.indexOf(team);
      if(idx > -1){
        selected.splice(idx, 1);
        btn.classList.remove('selected');
      } else if(selected.length < 2){
        selected.push(team);
        btn.classList.add('selected');
      }
      updateBar();
    });
  });

  function updateBar(){
    name1.textContent = selected[0] || '‚Äî';
    name2.textContent = selected[1] || '‚Äî';
    bar.classList.toggle('show', selected.length > 0);
    goBtn.style.display = selected.length === 2 ? '' : 'none';
  }

  clearBtn.addEventListener('click', () => {
    selected = [];
    document.querySelectorAll('.compare-check.selected').forEach(b => b.classList.remove('selected'));
    updateBar();
  });

  goBtn.addEventListener('click', () => {
    if(selected.length !== 2) return;
    const t1 = league.teams.find(t => t.name === selected[0]);
    const t2 = league.teams.find(t => t.name === selected[1]);
    if(!t1 || !t2) return;
    showComparison(t1, t2);
  });

  closeBtn.addEventListener('click', () => overlay.classList.remove('open'));
  overlay.addEventListener('click', e => { if(e.target === overlay) overlay.classList.remove('open'); });

  function showComparison(t1, t2){
    title.textContent = `${t1.name} vs ${t2.name}`;
    const metrics = [
      { label: 'Rank', v1: t1.rank, v2: t2.rank, lower: true },
      { label: 'Tier', v1: t1.tier, v2: t2.tier, text: true },
      { label: 'Overall Value', v1: t1.overallValue, v2: t2.overallValue },
      { label: 'Starter Value', v1: t1.starterValue, v2: t2.starterValue },
      { label: 'Avg Age', v1: t1.avgAge, v2: t2.avgAge, lower: true },
      { label: 'QB Rank', v1: t1.ranks.qb, v2: t2.ranks.qb, lower: true },
      { label: 'RB Rank', v1: t1.ranks.rb, v2: t2.ranks.rb, lower: true },
      { label: 'WR Rank', v1: t1.ranks.wr, v2: t2.ranks.wr, lower: true },
      { label: 'TE Rank', v1: t1.ranks.te, v2: t2.ranks.te, lower: true },
      { label: 'Draft Rank', v1: t1.ranks.draft, v2: t2.ranks.draft, lower: true },
      { label: 'Draft Value', v1: t1.draftValue, v2: t2.draftValue },
      { label: 'QB Value', v1: sum(t1.qb), v2: sum(t2.qb) },
      { label: 'RB Value', v1: sum(t1.rb), v2: sum(t2.rb) },
      { label: 'WR Value', v1: sum(t1.wr), v2: sum(t2.wr) },
      { label: 'TE Value', v1: sum(t1.te), v2: sum(t2.te) },
    ];
    const e1 = extras[t1.name] || {};
    const e2 = extras[t2.name] || {};
    if(e1.weeklyPoints) metrics.push({ label: 'Proj Pts/Week', v1: e1.weeklyPoints, v2: e2.weeklyPoints });
    if(e1.scheduleRank) metrics.push({ label: 'Schedule Rank', v1: e1.scheduleRank, v2: e2.scheduleRank, lower: true });

    let html = `<div style="display:grid;grid-template-columns:1fr auto 1fr;gap:.3rem .8rem;align-items:center;margin-top:1rem;">`;
    // Header row
    html += `<div style="text-align:right;font-weight:700">${t1.name}</div><div></div><div style="font-weight:700">${t2.name}</div>`;
    html += `<div style="text-align:right;color:var(--muted);font-size:.85rem">@${t1.owner}</div><div></div><div style="color:var(--muted);font-size:.85rem">@${t2.owner}</div>`;
    // Metrics
    metrics.forEach(m => {
      let w1 = '', w2 = '';
      if(!m.text){
        if(m.lower){ w1 = m.v1 < m.v2 ? ' winner' : ''; w2 = m.v2 < m.v1 ? ' winner' : ''; }
        else { w1 = m.v1 > m.v2 ? ' winner' : ''; w2 = m.v2 > m.v1 ? ' winner' : ''; }
      }
      html += `<div class="val left${w1}" style="text-align:right;padding:.4rem 0">${m.v1}</div>`;
      html += `<div class="label" style="text-align:center;color:var(--muted);font-size:.8rem;white-space:nowrap">${m.label}</div>`;
      html += `<div class="val right${w2}" style="padding:.4rem 0">${m.v2}</div>`;
    });
    html += '</div>';
    body.innerHTML = html;
    overlay.classList.add('open');
  }

  goBtn.style.display = 'none';
  updateBar();
})();

// --- Chart tooltips ---
(function(){
  function addTooltip(canvasId, getPoints){
    const canvas = document.getElementById(canvasId);
    if(!canvas) return;
    const card = canvas.closest('.card');
    if(!card){ return; }
    card.style.position = 'relative';
    const tip = document.createElement('div');
    tip.className = 'chart-tooltip';
    card.appendChild(tip);

    canvas.addEventListener('mousemove', e => {
      const rect = canvas.getBoundingClientRect();
      const mx = e.clientX - rect.left;
      const my = e.clientY - rect.top;
      const pts = getPoints();
      let closest = null, minDist = 30;
      pts.forEach(p => {
        const d = Math.hypot(p.x - mx, p.y - my);
        if(d < minDist){ minDist = d; closest = p; }
      });
      if(closest){
        tip.textContent = closest.label;
        tip.classList.add('show');
        const tipX = Math.min(closest.x + 10, card.clientWidth - 120);
        const tipY = closest.y - 30;
        tip.style.left = tipX + 'px';
        tip.style.top = tipY + 'px';
      } else {
        tip.classList.remove('show');
      }
    });
    canvas.addEventListener('mouseleave', () => tip.classList.remove('show'));
  }

  // Scatter chart tooltip points
  addTooltip('rankValueChart', () => {
    const canvas = document.getElementById('rankValueChart');
    const pad = 40;
    const w = canvas.clientWidth - pad*2;
    const h = canvas.clientHeight - pad*2;
    const xs = league.teams.map(t => t.rank);
    const ys = league.teams.map(t => t.overallValue);
    const xMin = Math.min(...xs) - .5, xMax = Math.max(...xs) + .5;
    const yMin = Math.min(...ys) * 0.9, yMax = Math.max(...ys) * 1.05;
    return league.teams.map(t => ({
      x: pad + (t.rank - xMin)/(xMax - xMin) * w,
      y: pad + h - (t.overallValue - yMin)/(yMax - yMin) * h,
      label: `${t.name}: Rank #${t.rank}, Value ${t.overallValue}`
    }));
  });

  // Pts vs schedule tooltip
  addTooltip('ptsSchedChart', () => {
    const canvas = document.getElementById('ptsSchedChart');
    const pad = 40;
    const w = canvas.clientWidth - pad*2;
    const h = canvas.clientHeight - pad*2;
    const points = league.teams.map(t => {
      const info = extras[t.name] || {};
      return { x: info.scheduleRank || 0, y: info.weeklyPoints || 0, name: t.name };
    });
    const xs = points.map(p => p.x), ys = points.map(p => p.y);
    const xMin = Math.min(...xs) - 0.1, xMax = Math.max(...xs) + 0.1;
    const yMin = Math.min(...ys) * 0.95, yMax = Math.max(...ys) * 1.05;
    return points.map(p => ({
      x: pad + (p.x - xMin)/(xMax - xMin) * w,
      y: pad + h - (p.y - yMin)/(yMax - yMin) * h,
      label: `${p.name}: ${p.y} pts, Sched ${p.x}`
    }));
  });
})();

// Observe tier dividers for fade-in
document.querySelectorAll('.tier-divider').forEach(el => observer.observe(el));

// --- Scroll progress bar ---
(function(){
  const bar = document.getElementById('scrollProgress');
  window.addEventListener('scroll', () => {
    const h = document.documentElement.scrollHeight - window.innerHeight;
    bar.style.width = h > 0 ? (window.scrollY / h * 100) + '%' : '0%';
  }, {passive:true});
})();

applyConfig();
</script>
</body>
</html>